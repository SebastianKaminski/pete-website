<?xml version="1.0"?>
<config>
  <global>
    <models>
        <circatalog>
          <class>CIR_Catalog_Model</class>
        </circatalog>
    </models>

    <fieldsets>
      <sales_convert_quote_item>
          <test>
              <to_order_item>*</to_order_item>
          </test>
      </sales_convert_quote_item>
    </fieldsets>

    <sales>
      <quote>
        <item>
          <product_attributes>
              <test />
          </product_attributes>
        </item>
      </quote>
    </sales>

    <events>
        <sales_quote_item_set_product>
            <observers>
                <cir_catalog_price_observer>
                    <class>CIR_Catalog_Model_Price_Observer</class>
                    <method>setTestAttribute</method>
                </cir_catalog_price_observer>
            </observers>
        </sales_quote_item_set_product>


      <checkout_cart_product_add_after>
        <observers>
          <cir_catalog_price_observer>
            <type>singleton</type>
            <class>CIR_Catalog_Model_Price_Observer</class>
            <method>calculate_radiator_price</method>
          </cir_catalog_price_observer>
        </observers>
      </checkout_cart_product_add_after>

      <catalog_product_load_after>
        <observers>
          <cir_catalog_price_observer>
            <type>model</type>
            <class>CIR_Catalog_Model_Price_Observer</class>
            <method>catalog_product_load_after</method>
          </cir_catalog_price_observer>
        </observers>
      </catalog_product_load_after>


      <sales_convert_quote_item_to_order_item>
        <observers>
            <cir_catalog_price_observer>
                <type>model</type>
                <class>CIR_Catalog_Model_Price_Observer</class>
                <method>sales_convert_quote_item_to_order_item</method>
            </cir_catalog_price_observer>
        </observers>
      </sales_convert_quote_item_to_order_item>

    </events>
  </global>
</config>